{"cells":[{"metadata":{"_kg_hide-output":true,"_kg_hide-input":true,"_uuid":"7b89e325a84df8b83d00dad9e16cc17acfa84a00","_cell_guid":"ced8802d-3e23-4b2c-be49-266410b778f2","_execution_state":"idle","trusted":true},"cell_type":"code","source":"# This R environment comes with all of CRAN preinstalled, as well as many other helpful packages\n# The environment is defined by the kaggle/rstats docker image: https://github.com/kaggle/docker-rstats\n# For example, here's several helpful packages to load in \n\nlibrary(ggplot2) # Data visualization\nlibrary(readr) # CSV file I/O, e.g. the read_csv function\nlibrary(randomForest)\nlibrary(e1071)\nlibrary(tree)\nlibrary(rpart)\nlibrary(caret)\n\n# Input data files are available in the \"../input/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nsystem(\"ls ../input\")\n\n# Any results you write to the current directory are saved as output.","execution_count":3,"outputs":[]},{"metadata":{"_uuid":"27693f945c9f573c5fb95ba217bbb639aef84273","trusted":true,"_cell_guid":"d201bc80-9b21-4de9-86f9-a071dabd62c6"},"cell_type":"code","source":"train_df <- read.csv('../input/train.csv')\ntest_df <- read.csv('../input/test.csv')\n#View(train_df)\n#View(test_df)\nsummary(train_df)\nsummary(test_df)","execution_count":4,"outputs":[]},{"metadata":{"_uuid":"01c1bb5e269509c9e511093419963ab7a5146242","trusted":true,"_cell_guid":"aad21bfe-8c73-46f5-828e-48c53e2e84d6"},"cell_type":"code","source":"smp_size<-floor(.5*nrow(train_df))\nset.seed(123)\n\ntrain_ind<-sample(seq_len(nrow(train_df)),size=smp_size)\ntrain_1<-train_df[train_ind, ]\ntest_1<-train_df[-train_ind, ]","execution_count":5,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"d36c2adbe188dc859892c6d44b88aa7d3e05451c"},"cell_type":"code","source":"#PassengerId arbitrary assigned, not correlated with Survival.\n#Pclass, more people died in 3rd class.\n#Name, not corrolated.\n#Sex, more women survived.\n#Age, more young people died.\n#SibSp, not used firstly.\n#Parch, not used firstly.\n#Ticket, not correlated.\n#Fare, could be correlated.\n#Cabin, ???\n#Embarked, more people that embarked in Cherbourg died.","execution_count":null,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"c987074b61282fae46e951abee4956bca8d454d8"},"cell_type":"code","source":"ggplot(train_df, aes(Pclass,Age)) + geom_point(aes(color=Survived))","execution_count":7,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"78a83dd872fbb223e33a15b0b9883190279b5a3f"},"cell_type":"code","source":"ggplot(train_df, aes(Sex,Age)) + geom_point(aes(color=Survived))","execution_count":8,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"c4d387477f19251c8011ee0e194b329d8a9a9f63"},"cell_type":"code","source":"ggplot(train_df, aes(Ticket,Age)) + geom_point(aes(color=Survived))","execution_count":9,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"f7e8f1cc8580935a166a1be0bd0f25d0325b83da"},"cell_type":"code","source":"ggplot(train_df, aes(Fare,Age)) + geom_point(aes(color=Survived))","execution_count":10,"outputs":[]},{"metadata":{"_uuid":"27fdc971b5513e0cb63665d06d19d0a0c1aeeb61","trusted":true,"_cell_guid":"8536f031-5ccd-4e05-a7c4-b8255bf09137"},"cell_type":"code","source":"train_1 <- subset(train_1, !is.na(Age))\nggplot(train_1, aes(Age,SibSp)) + geom_point(aes(color=Survived))","execution_count":11,"outputs":[]},{"metadata":{"_uuid":"cdbfb919a2364e4355492f34b1532d00faf86249","trusted":true,"_cell_guid":"a030bf3a-12c6-4314-9568-9043d816c0d7"},"cell_type":"code","source":"fol <- formula(Survived ~ Pclass + Sex + Age + Fare )\nmodel <- rpart(fol, method=\"class\", data=train_1)\nprint(model)","execution_count":12,"outputs":[]},{"metadata":{"_uuid":"604b9a84700852faa00be03ade0bee870c0c806a","trusted":true,"_cell_guid":"e8ced35b-d133-4796-b927-450d76558824"},"cell_type":"code","source":"prediction <- predict(model,test_1,type = \"class\")\nresult=test_1[,2]==as.character(prediction)\naccuracy=sum(result)/nrow(test_1)\naccuracy","execution_count":14,"outputs":[]},{"metadata":{"_uuid":"94829fb8da949fc196ca58c59b233b1b759dbbf4","trusted":true,"_cell_guid":"af1e2a02-7239-4074-9e8a-537f5e096599"},"cell_type":"code","source":"#Made confusion matrix\ntable(pred = prediction, true = test_1$Survived)","execution_count":17,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"c3125cf86e755a5f542968e3140462bbca19f95a"},"cell_type":"code","source":"prediction_2 <- predict(model,test_df,type = \"class\")\nsubmission <- data.frame(test_df[,1],prediction_2)\ncolnames(submission) <-  c(\"PassengerId\",\"Survived\")\nsubmission","execution_count":36,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"feaf26636b355979e38cc3f990ccb88705c9d90f"},"cell_type":"code","source":"write.csv(submission ,file = \"submission.csv\",row.names=F)","execution_count":34,"outputs":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"3.4.2","file_extension":".r","codemirror_mode":"r"}},"nbformat":4,"nbformat_minor":1}