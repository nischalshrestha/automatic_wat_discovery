{"cells":[{"metadata":{"_execution_state":"idle","_uuid":"fb0953f0d573994175b09db798f07959d7f2cf13","trusted":true,"_cell_guid":"9b524265-044f-4f2a-b9f4-726c36c41d82"},"cell_type":"code","source":"# This R environment comes with all of CRAN preinstalled, as well as many other helpful packages\n# The environment is defined by the kaggle/rstats docker image: https://github.com/kaggle/docker-rstats\n# For example, here's several helpful packages to load in \n\nlibrary(ggplot2) # Data visualization\nlibrary(readr) # CSV file I/O, e.g. the read_csv function\nlibrary(tidyverse)\n# Input data files are available in the \"../input/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nsystem(\"ls ../input\")\n\n# Any results you write to the current directory are saved as output.","execution_count":1,"outputs":[]},{"metadata":{"_uuid":"20f3078731733ff4dadec47dbe0dd71fc18f7e1f","trusted":true,"_cell_guid":"0aa695db-6468-432d-b287-e1edd4876f3a"},"cell_type":"code","source":"train <- read_csv('../input/train.csv')\ntest  <- read_csv('../input/test.csv')","execution_count":2,"outputs":[]},{"metadata":{"_uuid":"c4311028d97a8a5ed22e454e0f5056ed3dc23e2f","trusted":true,"_cell_guid":"8edbe705-36a8-4862-8c1b-1cc17f4a2c81"},"cell_type":"code","source":"glimpse(train)\nhead(train)","execution_count":3,"outputs":[]},{"metadata":{"_uuid":"8a6b2d430f64e0c4f44d7134ca831f5c6676e7bf","trusted":true,"_cell_guid":"b4d473a0-142e-4741-97bf-534fa0c892e8"},"cell_type":"code","source":"train$Survived<-as.factor(train$Survived)\ntrain$Pclass<-as.factor(train$Pclass)\ntrain$Sex[train$Sex==\"male\"]<-\"1\"\ntrain$Sex[train$Sex==\"female\"]<-\"0\"\ntrain$Sex<-as.factor(train$Sex)\ntrain$Embarked<-as.factor(train$Embarked)\ntrain$Cabin<-as.factor(train$Cabin)\n\n","execution_count":4,"outputs":[]},{"metadata":{"_uuid":"6372a2e0b88525aff0d989ddc22d3f7c8694c47b","trusted":true,"_cell_guid":"d647fb28-510b-4ad3-b984-7adb6653c77b"},"cell_type":"code","source":"glimpse(train)","execution_count":5,"outputs":[]},{"metadata":{"_uuid":"b21eb72195d4ccac8f8f44ef08435ff9650e4c90","trusted":true,"_cell_guid":"873d1774-d142-47cb-a732-0f99b5519e86"},"cell_type":"code","source":"dim(train)\nsummary(train) \n# 20% missing age.  lots of missing cabin values - we'll remove\n# 1/3 survived. 60% in 3rd class, more male than female. one fare is $512, seems to be an outliers","execution_count":6,"outputs":[]},{"metadata":{"_uuid":"c0d0ecea09e7e9b007d8a75a4a62e5f19286678e","trusted":true,"_cell_guid":"9e5648f4-f828-4660-8b0b-0bf052747505"},"cell_type":"code","source":"# remove fields we don't need\ntrain <- train%>%\n            select(-PassengerId,-Name,-Ticket,-Cabin)","execution_count":7,"outputs":[]},{"metadata":{"_uuid":"08e917a2acdcdce020effd0b0ff299ed6b733f4f","trusted":true,"_cell_guid":"d3b7136e-3e1f-4ec6-9aee-c35ea1f182f2"},"cell_type":"code","source":"ggplot(train,aes(Parch))+geom_histogram()  ","execution_count":8,"outputs":[]},{"metadata":{"_uuid":"de3fe9f28498e35cfae3a8d452ae54751134ffea","trusted":true,"_cell_guid":"f12b2024-044c-43bb-9c5b-84038d071fef"},"cell_type":"code","source":"train2<-train%>%filter(Fare<500)\nggplot(train2,aes(Fare,fill=Pclass))+geom_histogram()  \n\ntrain%>%filter(Fare>500)","execution_count":16,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"22fa15e882e27ac9cb594852314e5c544f4678dd"},"cell_type":"code","source":"ggplot(train2,aes(Fare,fill=Pclass))+geom_histogram()+facet_wrap(~Survived) \n\n# seems that the higher the class the higher the chance of survival","execution_count":44,"outputs":[]},{"metadata":{"trusted":true,"_uuid":"f9d44780553a08c64c97e1c7cd404f13ac6ec3f3"},"cell_type":"code","source":"ggplot(train,aes(Pclass,fill=Survived))+geom_bar()+facet_wrap(~Sex) \n# females have higher chance of survival especially for class 1 and 2, still much better chance of survival in class 3 compared to male\n# males have better survival chance being in class 1","execution_count":45,"outputs":[]},{"metadata":{"_uuid":"6e2094cbee533d441ef829ff4a00a60ddbf36ad6","trusted":true,"_cell_guid":"7a52aa49-3e4f-4518-a510-2a61dcb15f75"},"cell_type":"code","source":"ggplot(train,aes(Embarked,fill=Survived))+geom_bar()+facet_wrap(~Sex)\n# seems that people have a higher chance of survival if embarked for destination C.\n\ntrain%>%filter(is.na(Embarked))","execution_count":43,"outputs":[]},{"metadata":{"_uuid":"f144e8622eb5b0a77cdbcb0a7e7719808ac54acc","trusted":true,"_cell_guid":"6e486291-a857-4bec-83ec-d4ba8f0c992c"},"cell_type":"code","source":"ggplot(train,aes(Age,fill=Sex))+geom_histogram(position = \"identity\",alpha=0.3) +facet_wrap(~Survived) \n\n# more female survived, more younger folks survived\n# so sex and age are important metrics to include in our model","execution_count":21,"outputs":[]},{"metadata":{"_uuid":"1ec53efdf6b798342153dab7c44a7d0ca17880d7","trusted":true,"_cell_guid":"8230ddf2-c1e4-42e1-ae9b-06aac59b8352"},"cell_type":"code","source":"glimpse(train)","execution_count":46,"outputs":[]},{"metadata":{"_uuid":"37a6ee127e38761ca5680a06a65083027d526a0a","trusted":false,"_cell_guid":"d6f0d770-e5b9-4d05-a814-f5c9a1bd89be"},"cell_type":"code","source":"","execution_count":null,"outputs":[]},{"metadata":{"_uuid":"5f625288554cdfbf618f3b44e9b1cd094e673fc3","trusted":false,"_cell_guid":"f6609f6b-2552-4d08-b022-8fa2f5b9deb8"},"cell_type":"code","source":"","execution_count":null,"outputs":[]}],"metadata":{"kernelspec":{"display_name":"R","language":"R","name":"ir"},"language_info":{"mimetype":"text/x-r-source","name":"R","pygments_lexer":"r","version":"3.4.2","file_extension":".r","codemirror_mode":"r"}},"nbformat":4,"nbformat_minor":1}